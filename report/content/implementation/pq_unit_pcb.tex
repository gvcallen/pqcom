\graphicspath{{./figures}}

\section{PocketQube Unit PCB}
Unfortunately, not enough prototypes were ready for an end-project balloon launch. The power for the PQ unit was therefore implemented using large but readily available converters/regulators. In a final launch, this power section would either be replaced by the EPS or a low drop-out voltage regulator with a smaller LiPo. The PQ unit PCB was ordered through an external supplier. In order to begin initial development and testing, an Arduino Nano breadboard prototype was created, as shown in Appendix \ref{sec:appendix_pq}. Since the Nano has the same MCU as the designed PCB, the developed software could then simply be flashed onto the PQ unit using an off-board programmer. The final module is shown in Figures \ref{fig:pqUnitPCB} and \ref{fig:pqUnitPower}. As noted in the appendix errata, the crystal's loading capacitors were mistakingly left out. The MCU's internal 8 MHz clock was used, however was badly calibrated, and resulted in software serial communication with the GPS module not working. This was fixed by setting the OSCCAL register to calibrate the clock. The board was first bootloaded with an Arduino Nano, and then the programmer circuit in Figure \ref{fig:pqUnitPCB} was developed to flash the board via UART. The programmer consists of a CH340 USB-to-serial module, a reset RC filter, as well as a 3.3V to 5V level converter (since the PocketQube PCB is designed to run at 3.3V). The board and dipole antenna was mounted onto the 2000 mAh LiPo battery. The power section consists of a LiPo charger, a boost converter module, and a 3.3V linear voltage regulator circuit.