#define TIMER_INTERRUPT_DEBUG         0
#define _TIMERINTERRUPT_LOGLEVEL_     0
#define USE_TIMER_1     true

#include "TimerInterrupt_Generic.h"

volatile bool timerTriggered = false;
void TimerHandler1()
{
    timerTriggered = true;
}

void setup()
{
	Serial.begin(115200);

	while (!Serial && millis() < 5000);

    delay(500);

	ITimer1.init();

    if (ITimer1.attachInterruptInterval(1000, TimerHandler1, 0))
		Serial.print(F("Starting  ITimer1 OK, millis() = "));
	else
		Serial.println(F("Can't set ITimer1. Select another freq. or timer"));

}

void loop()
{
    if (timerTriggered)
    {
        Serial.println("Triggered!");
        timerTriggered = false;
    }
}